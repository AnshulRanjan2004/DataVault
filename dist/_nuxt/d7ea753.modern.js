(window.webpackJsonp=window.webpackJsonp||[]).push([[16,11,12],{217:function(t,e,n){var content=n(228);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(50).default)("5320a6b8",content,!0,{sourceMap:!1})},227:function(t,e,n){"use strict";n(217)},228:function(t,e,n){var r=n(49)((function(i){return i[1]}));r.push([t.i,".text-shadow{text-shadow:0 0 3px #000}",""]),r.locals={},t.exports=r},230:function(t,e,n){"use strict";n.r(e);var r={props:{pct:{type:Number,default:0}}},o=(n(227),n(14)),component=Object(o.a)(r,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"w-full bg-gray-100 rounded-full overflow-hidden shadow-inner h-6 dark:bg-gray-600"},[e("div",{staticClass:"bg-blue-400 text-xs leading-none py-3 text-center",style:"width: ".concat(t.pct,"%")}),t._v(" "),e("div",{staticClass:"text-center w-full -mt-6 font-semibold text-white text-shadow"},[t._v("\n    "+t._s(t.pct)+"%\n  ")])])}),[],!1,null,null,null);e.default=component.exports},233:function(t,e,n){"use strict";n.d(e,"d",(function(){return d})),n.d(e,"e",(function(){return h})),n.d(e,"b",(function(){return w})),n.d(e,"a",(function(){return m})),n.d(e,"c",(function(){return C}));var r=n(5),o=(n(19),n(15),n(238),n(18),n(145),n(229),n(220),n(221),n(222),n(223),n(224),n(225),n(239)),l=n(219),c=n(226);function d(t){return f.apply(this,arguments)}function f(){return(f=Object(r.a)((function*(t){var e="https://dweb.link/api/v0/ls?arg=".concat(encodeURIComponent(t)),n=yield fetch(e),data=yield n.json(),r=[];return data.Objects[0].Links.forEach((t=>{var e=Object.fromEntries(Object.entries(t).map((t=>{var[e,n]=t;return[e.toLowerCase(),n]})));r.push(e)})),r}))).apply(this,arguments)}function y(){return new o.a({token:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJkaWQ6ZXRocjoweDc2OTc1RmUzRjI3MWMzMjEzMDY4Y2Q3RDAzNGRmODc4MjMwMDU5MDYiLCJpc3MiOiJ3ZWIzLXN0b3JhZ2UiLCJpYXQiOjE2ODA5ODc3MDc0NTksIm5hbWUiOiJEYXRhVmF1bHQifQ.tadB3BSTNjthRrp7BQ4E6YeSBGA3BYpptq_DdCb0EP0"})}function h(t,e,n,r,o,l,c){return v.apply(this,arguments)}function v(){return(v=Object(r.a)((function*(t,e,caption,n,r,o,d){var f;f="".concat("UnFile"," | ").concat(c.a.generate(20));var h={files:{},text:d,caption:caption,addresses:n},v=[];for(var w of Object.keys(t))h.files[t[w].file.name]=t[w].originalName,v.push(t[w].file);var x=Object(l.d)("metadata.json",h),m=new File([String(r)],"VERSION",{type:"text/plain"});v.push(m);var k=yield Object(c.c)(x,e,!0);v.push(k.file);var C=y();console.log("> ðŸ¤– calculating content ID for files");var j=v.map((t=>t.size)).reduce(((a,b)=>a+b),0),O=0;return yield C.put(v,{name:f,onRootCidReady:t=>{console.log("> ðŸ”‘ locally calculated Content ID: ".concat(t," ")),console.log("> ðŸ“¡ sending files to web3.storage ")},onStoredChunk:t=>{console.log("> ðŸ›° sent ".concat(t.toLocaleString()," bytes to web3.storage"));var e=100*(O+=t)/j;console.log("Uploading... ".concat(e.toFixed(2),"% complete")),o(Number(e.toFixed(1)))}})}))).apply(this,arguments)}function w(t){return x.apply(this,arguments)}function x(){return(x=Object(r.a)((function*(t){var e=Object(l.e)(t,"metadata.json.enc"),n=yield fetch(e);if(!n.ok)throw new Error("error fetching image metadata: [".concat(n.status,"] ").concat(n.statusText));return yield n.blob()}))).apply(this,arguments)}function m(t){return k.apply(this,arguments)}function k(){return(k=Object(r.a)((function*(t){var e=y(),n=yield e.status(t);return console.log(n),n}))).apply(this,arguments)}function C(t,e,n,r){return j.apply(this,arguments)}function j(){return(j=Object(r.a)((function*(t,e,n,r){var o=Object(l.e)(t,e),c=yield fetch(o);if(!c.ok)throw"Could not fetch file, try again.";var d=c.body.getReader(),f=c.headers.get("Content-Length");console.log(f);for(var y=0,h=[];;){var{done:v,value:w}=yield d.read();if(v)break;if(h.push(w),y+=w.length,n)n(r,y/f*100)}var x=new Uint8Array(y),m=0;for(var k of h)x.set(k,m),m+=k.length;return new Blob([x])}))).apply(this,arguments)}},237:function(t,e,n){"use strict";n.r(e);var r={data:()=>({copyBtnText:"Copy"}),props:{password:{type:String},pct:{type:Number},cid:{type:String},caption:{type:String}},computed:{baseUrl:()=>window.location.origin,link(){return"/d/".concat(this.cid)},combinedLink(){return this.baseUrl+this.link+"?key=".concat(this.password)}},methods:{copyToClipboard(){navigator.clipboard.writeText(this.combinedLink),this.copyBtnText="Copied!",setTimeout((()=>{this.copyBtnText="Copy"}),1e3)},saveLink(){var t=localStorage.getItem("unfile-uploads");(t=t&&JSON.parse(t)||[]).unshift({caption:this.caption||"",link:this.link+"?key=".concat(this.password)}),localStorage.setItem("unfile-uploads",JSON.stringify(t)),this.$router.push("/myfiles")}}},o=n(14),component=Object(o.a)(r,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"sm:max-w-lg w-full py-10 px-10 bg-white rounded-xl z-10 shadow-xl dark:bg-gray-800"},[e("transition",{attrs:{"enter-active-class":"transition-all delay-500 duration-300 ease-out","leave-active-class":"transition-all duration-500 ease-in","enter-class":"opacity-0 transform scale-0","enter-to-class":"opacity-100 transform scale-100","leave-class":"opacity-100 transform scale-100","leave-to-class":"opacity-0 transform scale-0"}},[t.cid?e("div",{key:"result"},[e("h4",{staticClass:"text-md font-bold text-gray-500 tracking-wide mb-3 dark:text-gray-300"},[t._v("\n        Your Link:\n      ")]),t._v(" "),e("div",{staticClass:"flex items-center p-4 space-x-4 border-2 border-gray-300 rounded-lg dark:border-gray-600"},[e("div",{staticClass:"w-full text-base border-r-2 pr-3 select-all break-all dark:border-gray-400 dark:text-white"},[t._v("\n          "+t._s(t.baseUrl)+t._s(t.link)),e("span",{staticClass:"text-red-500 dark:text-red-400"},[t._v("?key="+t._s(t.password))])]),t._v(" "),e("div",{staticClass:"flex-shrink-0"},[e("button",{staticClass:"p-2 bg-blue-500 text-gray-100 rounded-md focus:shadow-outline hover:bg-blue-600 shadow-lg cursor-pointer transition ease-in duration-300",on:{click:t.copyToClipboard}},[t._v("\n            "+t._s(t.copyBtnText)+"\n          ")])])]),t._v(" "),e("div",{staticClass:"flex justify-center"},[e("button",{staticClass:"mt-10 flex justify-center py-2 px-4 tracking-wide font-semibold rounded-xl bg-blue-500 text-gray-100 focus:outline-none focus:shadow-outline hover:bg-blue-600 shadow-lg cursor-pointer transition ease-in duration-300",on:{click:t.saveLink}},[t._v("\n          Save Link in Browser Storage\n        ")])])]):e("div",{key:"progress"},[e("div",{staticClass:"text-center mb-5"},[e("h4",{staticClass:"text-sm font-bold text-gray-400 tracking-wide dark:text-gray-200"},[t._v("\n          "+t._s(t.pct>0?"Upload in progress..":"Preparing Web3.Storage please wait..")+"\n        ")])]),t._v(" "),e("ProgressBar",{staticClass:"my-10 max-w-sm mx-auto",attrs:{pct:t.pct}})],1)])],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{ProgressBar:n(230).default})},243:function(t,e,n){"use strict";var r=n(5),o=n(233);e.a={data:()=>({showProgress:!1,password:"",pct:0,cid:"",caption:""}),methods:{startUpload(data,t){var e=this;return Object(r.a)((function*(){e.showProgress=!0,e.caption=data.caption||"";var n=yield Object(o.e)(data.files,data.password,data.caption,data.addresses,e.$config.clientVersion,e.progressCallback,t);n&&(e.pct=100,e.cid=n)}))()},progressCallback(t){console.log(t),this.pct=t},updatePassword(t){this.password=t}}}},285:function(t,e,n){"use strict";n.r(e);var r={head:()=>({title:"DataVault - Upload Your Files"}),mixins:[n(243).a]},o=n(14),component=Object(o.a)(r,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"md:py-12 px-4 sm:px-6 lg:px-8 relative flex items-center justify-center flex-1"},[e("transition",{attrs:{"enter-active-class":"transition-all delay-300 duration-300 ease","leave-active-class":"transition-all duration-300 ease","enter-class":"opacity-0 transform -translate-x-full","enter-to-class":"opacity-100 transform -translate-x-0","leave-class":"opacity-100 transform -translate-x-0","leave-to-class":"opacity-0 transform -translate-x-full"}},[t.showProgress?e("Progress",{attrs:{password:t.password,pct:t.pct,cid:t.cid,caption:t.caption}}):e("UploadBox",{attrs:{password:t.password},on:{upload:t.startUpload,passwordCreated:t.updatePassword}})],1)],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{UploadBox:n(280).default,Progress:n(237).default})}}]);